[
  {
    "objectID": "computation.html",
    "href": "computation.html",
    "title": "4  Computation of the Equilibrium",
    "section": "",
    "text": "References"
  },
  {
    "objectID": "computation.html#functional-forms",
    "href": "computation.html#functional-forms",
    "title": "4  Computation of the Equilibrium",
    "section": "4.1 Functional Forms",
    "text": "4.1 Functional Forms\nThe matching function is \\[M(L, V) = \\omega_1 L^{\\omega_2}V^{1-\\omega_2}\\]\nThe cost of creating a \\(v\\) vacancies are \\[c(v) = \\frac{c_0 v^{1-c_1}}{1 - c_1}\\]\nUsing the value of \\(B^j\\) any particular cost and matching function can be used to pin down the number of vacancies posted by each firm in each location. Note that this particular matching function implies that \\[q^j = \\frac{M(L^j, V^j)}{V^j}=\\frac{\\omega_1 L^{\\omega_2} V^{1 - \\omega_2}}{V^j}= \\omega_1(\\theta^j)^{-\\omega_2}\\]\nSince the number of vancies is pindown by profit maximization we can write: \\[c_0 v^{j}(y)^{b} = q^j B^j(y) \\qquad \\implies \\qquad  v^{j}(y) = \\left(\\frac{q^j B^j(y)}{c_0}\\right)^{\\frac{1}{c_1}} = \\left(\\frac{\\omega_1(\\theta^j)^{-\\omega_2} B^j(y)}{c_0}\\right)^{\\frac{1}{c_1}} \\]\nThen integrating over all firms in each location we get the total number of vacancies posted in each location as: \\[V^j = \\int v^j(y)d\\Gamma(y) = \\left((\\theta^j)^{-\\omega_2}\\right)^{\\frac{1}{c_1}}\\int\\left(\\frac{\\omega_1 B^j(y)}{c_0}\\right)^{\\frac{1}{c_1}}d\\Gamma(y)\\] Multiply by \\(1/L^j\\) on both sides to obtain: \\[\\theta^j = \\frac{1}{L^j}\\left((\\theta^j)^{-\\omega_2}\\right)^{\\frac{1}{c_1}}\\int\\left(\\frac{\\omega_1 B^j(y)}{c_0}\\right)^{\\frac{1}{c_1}}d\\Gamma(y)\\] solving for \\(\\theta^j\\) we get: \\[\\theta^j = \\left(\\frac{1}{L^j}\\int\\left(\\frac{\\omega_1 B^j(y)}{c_0}\\right)^{\\frac{1}{c_1}}d\\Gamma(y)\\right)^{\\frac{c_1}{c_1+\\omega_2}}\\]\nI assume that the value added at the match level is a Cobb-Douglas function of the worker and firm productivity on each location: \\[f(x,y,z) = \\Omega\\left(x, \\overline{X}^J\\right)^\\alpha y^{1-\\alpha}\\]\nI follow (Lise and Robin 2017) and characterize home production as \\[b_{prod}(x) = b_{share} f(x,y^*(x,1),1)\\] where \\(y^*(x,j,z)\\) the firm type that maximizes the output of worker \\(x\\) in location \\(j\\). This means that the instant utility of unemployed worker of type \\(x\\) in location \\(j\\) is given by: \\[b(x,j) = b_{share} f(x,y^*(x,1),1) - \\theta \\mu_j^\\gamma\\]\n\n4.1.1 Parametrization\nI choose the simplest cost of moving funciton:\n\\[\\begin{equation}\n    \\label{eq-cost-of-moving}\n    F^{j\\to  j'} = \\begin{cases} 0 & \\text{if } j = j' \\\\ \\overline{F} & \\text{if } j \\neq j' \\end{cases}\n\\end{equation}\\]\n\n\n\n\n\n\n\n\nParameter\nValue\nSource\n\n\n\n\n\\(\\alpha\\)\n0.5\n\n\n\n\\(\\xi\\)\n0.5\n\n\n\n\\(\\overline{F}\\)\n3.1\n\n\n\n\\(b_{share}\\)\n0.1\n(Hall 2005)\n\n\n\\(\\beta\\)\n0.952381\nConsistent with \\(5\\%\\) discount rate\n\n\n\\(s\\)\n2.7e-2\n(Davis and Dingel 2019)\n\n\n\\(c_0\\)\n2.8e-2\n(Lise and Robin 2017)\n\n\n\\(c_1\\)\n0.584\n(Lise and Robin 2017)\n\n\n\\(\\omega_1\\)\n4.97e-2\n(Lise and Robin 2017)\n\n\n\\(\\omega_2\\)\n0.5\n(Lise and Robin 2017)\n\n\n\\(\\gamma_1\\)\n0.1\n(Davis and Dingel 2019)\n\n\n\\(\\gamma_2\\)\n1\n(Davis and Dingel 2019)\n\n\n\\(A\\)\n3\n(Davis and Dingel 2019)\n\n\n\\(\\nu\\)\n50\n(Davis and Dingel 2019)\n\n\n\nType grids are defined as:\n\n\\(\\{x_1,\\ldots,x_{N_x}\\}\\subset[\\) 1.0e-2, 0.99 \\(]\\) is a discretization of the continuum of worker types.\n\n\\(N_x\\)=21 as in (Lise and Robin 2017).\nParameters for the distribution are estimated by the authors.\n\n\\(\\{y_1,\\ldots,y_{N_y}\\}\\subset[\\) 1.0e-2, 0.99 \\(]\\) is a discretization of the continuum of firm types.\n\n\\(N_y\\)=20 as in (Lise and Robin 2017).\n\n\n\n\n4.1.2 Type Distributions"
  },
  {
    "objectID": "computation.html#algorithm",
    "href": "computation.html#algorithm",
    "title": "4  Computation of the Equilibrium",
    "section": "4.2 Algorithm",
    "text": "4.2 Algorithm"
  },
  {
    "objectID": "model.html",
    "href": "model.html",
    "title": "2  Model",
    "section": "",
    "text": "References"
  },
  {
    "objectID": "model.html#model-setup",
    "href": "model.html#model-setup",
    "title": "2  Model",
    "section": "2.1 Model Setup",
    "text": "2.1 Model Setup\n\n2.1.1 Demographics\n\nThere exists a discrete and finite set of locations denoted as \\(\\mathcal{J} = \\{1, \\ldots, |\\mathcal{J}|\\}\\), with each location indexed by \\(j \\in \\mathcal{J}\\).\nA continuum of workers is characterized by their abilities, which are denoted as \\(x \\in \\mathcal{X}\\).\n\nThe total measure of workers is normalized to 1.\nWorkers follow an exogenous distribution \\(\\ell(x)\\).\nWithin each location, there is an endogenous distribution of workers denoted as \\(\\ell^{j}(x)\\).\nI represent the total population in location \\(j\\) as \\(\\mu_j\\).\n\nA continuum of firms is characterized by their technology, which is denoted as \\(y \\in \\mathcal{Y}\\).\n\nThe total measure of firms is normalized to 1.\nFirms follow an exogenous distribution \\(\\gamma(y)\\).\n\n\n\n\n2.1.2 Technology\n\nThere is an exogenous cost associated with posting \\(v\\) job opportunities in location \\(j\\), denoted as \\(c_{j}(v)\\), where \\(c_{j}(v) \\geq 0\\).\n\nI assume this cost function is increasing, convex, and potentially dependent on the location.\n\nBoth workers and firms discount the future at the rate \\(\\beta\\).\nWorkers have the ability to move across locations:\n\nWorkers select a mixed strategy for their job search, denoted as \\(\\phi^j_i(x)\\), where \\(\\phi^j_i(x) = \\{\\phi^j_i(x, j')\\}_{j' \\in \\mathcal{J}}\\) represents the probability that a worker of type \\(x\\) from location \\(j\\) searches in location \\(j'\\), and \\(i \\in \\{u,s\\}\\) refers to the employment status of the worker.\nEach search strategy incurs an associated cost denoted as \\(c_s(\\phi_i^j(x))\\).\nWhen a worker moves from one location to another (from \\(j\\) to \\(j'\\)), they must pay a relocation cost denoted as \\(F^{j \\to j'} \\geq 0\\), with \\(F^{j \\to j} = 0\\) for movements within the same location.\n\nUnemployed workers receive instant utility in each location denoted as \\(b(x,j)\\).1\nFirms have access to a production technology that operates at the match level and depends on the location and the aggregate state of the economy, represented as \\(f(x, y, j)\\).\n\nWorker productivity is influenced by the distribution of skills within each location (see Chapter -Section 3.1 for more details).\n\n\nCertainly, I’ll review and refine this section for you:\n\n\n2.1.3 Job Search\nBoth unemployed and employed workers engage in job search activities. Let’s denote \\(s\\) as the search intensity of an employed worker, \\(s &lt; 1\\) is normalized such that an unemployed worker has a search intensity of \\(1\\). To compute the total search intensity in location \\(j\\), we need to consider the following expression:\n\\[\nL^j = \\sum_{j'\\in\\mathcal{J}}\\left[\\int \\phi_u^{j'}(x,j)u^{j'}(x) dx + s\\int\\int \\phi_s^{j'}(x,j)h^{j'}(x,y)dx dy\\right]\n\\]\nTotal search intensity (\\(L^j\\)) in location \\(j\\) accounts for the search behaviors of both employed and unemployed workers from all other locations (\\(j'\\)) in the model. It takes into account the probabilities of workers from everywhere else searching for jobs in location \\(j\\), capturing the spatial dynamics of the labor market.\nNow, let’s introduce some additional definitions:\n\nLet \\(v^j(y)\\) represent the number of job opportunities posted by a firm \\(y\\) in location \\(j\\).\n\\(V^j = \\int v^j(y) dy\\) represents the total number of job opportunities posted location \\(j\\).\n\nNow, let’s define \\(M^j = M(L^j, V^j)\\) as the number of job matches in location \\(j\\). With these definitions in place, we can calculate the following probabilities:\n\nThe probability that an unemployed worker contacts a vacancy in location \\(j\\) is given by: \\[p^j = \\frac{M^j}{L^j}\\] Here, \\(sp^j\\) represents the probability that an employed worker contacts a vacancy.\nThe probability that a firm contacts any searching worker is defined as: \\[q^j = \\frac{M^j}{V^j}\\]\n\nAdditionally, let \\(\\theta^j = V^j / L^j\\), represent the market tightness in location \\(j'\\)."
  },
  {
    "objectID": "model.html#dynamic-programming-problem",
    "href": "model.html#dynamic-programming-problem",
    "title": "2  Model",
    "section": "2.2 Dynamic Programming Problem",
    "text": "2.2 Dynamic Programming Problem\nConsider the following notation:\n\n\\(U^{j}(x)\\) represents the value for an unemployed worker of type \\(x\\) in location \\(j'\\).\nThe value of receiving a job offer depends on the employment status of the worker:\n\n\\(W^{j\\to j'}_{0}(x,y)\\) denotes the value of a type-\\(x\\) unemployed worker in location \\(j\\) who is hired by a firm of type \\(y\\) in location \\(j'\\).\n\\(W^{j\\to j'}_{1}(x,y \\to y')\\) represents the value offered by a type \\(y'\\) firm in location \\(j'\\) to a type \\(x\\) worker currently employed at a type \\(y\\) firm in location \\(j\\).\n\n\\(J^j(x,y)\\) denotes the value of a match between a type \\(x\\) worker and a type \\(y\\) firm inlocation \\(j\\).\n\nNow, let’s define the joint surplus of a match between a type \\(x\\) unemployed worker in location \\(j\\) and a type \\(y\\) firm in location \\(j'\\) as:\n\\[S^{j\\to j'}(x,y) = J^{j'}(x,y) - [U^{j}(x) + F^{j\\to j'}]\\]\n\\(S^{j\\to j'}(x,y)\\) represent much better off (or worse off) the worker and the firm are when they are matched compared to when the worker is unemployed in location \\(j\\) and considering the cost of moving from \\(j\\) to \\(j'\\). If \\(S^{j\\to j'}(x,y)\\) is positive, it indicates a positive gain from the match; if it’s negative, it represents a net loss.\n\n2.2.1 Search Strategy\nIn this section I describe the search strategy of workers. I specify what do I mean by a search strategy and how do workers choose their search strategy. I also describe the cost of search and how it is related to the search strategy. Finally I derive the optimal search strategy for each worker type and location. Throughout this section I abstract from the employment status of the worker.\nI assume that workers are rational inattentive in the style of (Christopher A. Sims 2003), (Christopher A. Sims 2006) and (Matějka and McKay 2015). Workers have prior knoledge of the value of moving to every location \\(j'\\) \\(\\{u^{j\\to j'}(x)\\}_{j \\in \\mathcal{J}}\\), note that this is dependent on the type of each worker and their location at the moment of decition making. Assume that this prior knolege is described by a joint distribution \\(G\\left(\\{u^{j\\to j'}(x)\\}_{j \\in \\mathcal{J}} \\right)\\).\nTo reﬁne this knowledge, workers can aquire information about the value of each location by searching. Workers are in escence acquiring informatin to reduce uncertainty (i.e. reduce entropy) associated with their prior knoledge. I make the siplyfing assumption that \\(\\phi^j_0(x)\\), the unconditional distribution of of choosing each locaiton is uniform, this is:\n\\[\\phi^j_0(x, j') = \\frac{1}{\\mid \\mathcal{J} \\mid} \\qquad\n\\forall j' \\in \\mathcal{J}, x \\in \\mathcal{X}\\]\nThus type \\(x\\) workers in location \\(j\\) are faced with the problem:\n\\[\\begin{align*}\n\\max_{\\phi_i^j(x)} \\left( \\sum_{j' \\in \\mathcal{J}} \\phi_i^j(x, j') u^{j\\to j'}(x) - c(\\phi_i^j(x), \\phi^j_0(x))  \\right)\\\\\n\\text{s.t.} \\quad \\sum_{j'\\in \\mathcal{J}}\\phi^j_i(x, j') = 1 \\\\\n\\quad \\text{and} \\quad \\phi^j_i(x, j') \\geq 0 \\quad \\forall j' \\in \\mathcal{J}\n\\end{align*}\\]\nWith \\(c(\\phi_i^j(x), \\phi^j_0(x))\\) being the cost of reducing the entropy of the prior (in this case the assumption is the prior is no information). The cost is proportional to the Kullback–Leibler divergence (also called relative entropy and \\(I\\)-divergence) between the selected distribution and the prior (uniform). More information on the Kullback–Leibler divergence here. For simplicity, denote $c(_i^j(x), ^j_0(x)) = \\(c(\\phi_i^j(x))\\)$\n\\[\\begin{equation}\n\\label{eq-cost-search}\nc_s(\\phi^j_i(x)) = c \\sum_{j'\\in \\mathcal{J}}\\phi^j_i(x, j')\\log{(J\\phi^i_j(x, j'))}\n\\end{equation}\\]\nIf processing information where costless i.e. \\(c = 0\\) the worker would be able to perfectly direct their search towards the highest value location. With costly information procesing (\\(c &gt; 0\\)), the worker can still select to search randomly (i.e. uniform distribution) and pay the asociated cost of \\(0\\), when the worker starts directing their search towards a particular location (the asusmption is that this requieres, aquiring more information of one of the potential values relative to the others) then the cost grows unboundedly large as the strategy gets closer to perfectly directing search to a particular location.\n\nBesides (Matějka and McKay 2015) which formulates the problem in general terms, some works in the literature that use this cost structure are (Wu 2020) and (Cheremukhin, Restrepo-Echavarria, and Tutino 2020).\n\nSolving the maximization problem we get the optimal strategy for each worker as:\n\\[\\begin{align*}\n\\max_{\\phi_i^j(x)} \\left( \\sum_{j' \\in \\mathcal{J}} \\phi_i^j(x, j') u^{j\\to j'}(x) - c \\sum_{j'\\in \\mathcal{J}}\\phi^j_i(x, j')\\log{(J\\phi^i_j(x, j'))} \\right) \\\\\n\\text{s.t.} \\quad \\sum_{j'\\in \\mathcal{J}}\\phi^j_i(x, j') = 1 \\\\\n\\quad \\text{and} \\quad \\phi^j_i(x, j') \\geq 0 \\quad \\forall j' \\in \\mathcal{J}\n\\end{align*}\\]\nI’ll ignore the non-negativity constraints and write the Lagrangean of the problem: \\[\\mathcal{L}(\\phi^j(x), \\lambda) =  \\sum_{j'\\in\\mathcal{J}} \\phi^j(x, j') u^{j\\to j'}(x) - c \\sum_{j'\\in \\mathcal{J}}\\phi^j(x, j')\\log{(J\\phi^j(x, j'))} + \\lambda \\left(\\sum_{j'\\in \\mathcal{J}}\\phi^j(x, j') - 1\\right)\\]\nFirst order conditions of the problem give us:\n\\[\\begin{align*}\n  [\\phi^j(x, j')] &:\\quad u^{j\\to j'}(x) - c - c \\log[J \\phi^j(x, j')] = \\lambda \\\\\n  [\\lambda] &: \\quad \\sum_{j'\\in \\mathcal{J}}\\phi^j(x, j') = 1\n\\end{align*}\\]\nTake any two \\(j_1\\), \\(j_2\\) we have that \\[u^{j\\to j_1}(x)  - c \\log[J \\phi^j(x, j_1)] =u^{j\\to j_2}(x)  - c \\log[J \\phi^j(x, j_2)]\\]\nthus\n\\[\\begin{align*}\n  \\frac{u^{j\\to j_1}(x) - u^{j\\to j_2}(x) }{c} &= \\log\\left(\\frac{ \\phi^j(x, j_1)}{ \\phi^j(x, j_2)}\\right) \\\\\n  &\\implies \\quad \\frac{ \\phi^j(x, j_1)}{ \\phi^j(x, j_2)} = \\frac{\n    e^{\n       u^{j\\to j_1}(x) / c\n        }\n        }{e^{\nu^{j\\to j_2}(x) / c\n        }\n        }\n\\end{align*}\\]\nFix any \\(\\hat{j}\\), then we can write any other \\(j'\\in\\mathcal{J}\\) in therms of \\(\\hat{j}\\) and plug into the constraint to get:\n\\[\\begin{align*}\n  \\sum_{j'\\in \\mathcal{J}}\\phi^j(x, j') &= \\sum_{j'\\in \\mathcal{J}}\\frac{e^{u^{j\\to j'}(x) }}{e^{u^{j\\to \\hat{j}}(x) }} \\phi^j(x, \\hat{j})\\\\  &= \\frac{\\phi^j(x, \\hat{j})}{e^{u^{j\\to \\hat{j}}(x) / c}} \\sum_{j\\in \\mathcal{J}}e^{u^{j\\to j'}(x) / c} = 1\n\\end{align*}\\]\nWhich we can solve to obtain\n\\[\\begin{equation}\n\\label{eq:optimal-search-strategy}\n    \\phi^j(x,\\hat{j}) = \\frac{e^{u^{j\\to \\hat{j}}(x) / c}}{\\sum_{ j' \\in \\mathcal{J}}e^{u^{j\\to j'}(x) / c}}\n\\end{equation}\\]\nThe non-negativity constraints are satisfied because the exponential function is always positive.\nNote: I could have follow (Matějka and McKay 2015) and have more complex prior beliefs, the result of this would be that the optimal strategy would be biased by the prior attractivenes of each location. In terms of closed form solution I would get something like: \\[\\phi^j(x,\\hat{j}) = \\frac{e^{(u^{j\\to \\hat{j}}(x) + \\zeta^{j \\to \\hat{j}}(x) )/ c}}{\\sum_{ j' \\in \\mathcal{J}}e^{(u^{j\\to j'}(x) + \\zeta^{j \\to \\hat{j}}(x)) / c}}\\]\nwhere \\(\\zeta^{j \\to j'}(x) = c \\log(\\phi^j_0(x))\\) is the prior attractiveness of moving from location \\(j\\) to location \\(\\hat{j}\\). Note that this have the implication: - When an option seems very attractive a priori, then it has a relatively high probability of being selected even if its true value is low. (verbatim quote from (Matějka and McKay 2015)).\nI choose to have a uniform prior to simplify the exposition and because I think it is a reasonable assumption. But I also can see how relaxing this assumption could have interesting implications for the model.\nWe already stablished that with costless information the limit behavior is that the worker perfectly directs their search to the highest value location. Next, note that \\(\\lim_{c \\to \\infty} \\exp(u^{j\\to \\hat{j}}(x) / c) = 1\\) thus the limit behavior as the cost of information rises is dissregard new information decide based on the prior\n\nWith uniform prior: \\(\\lim_{c \\to \\infty} \\phi^j(x,\\hat{j}) = \\frac{1}{\\mid \\mathcal{J} \\mid}\\) which is random search.\nWith some other prior: \\(\\lim_{c \\to \\infty} \\phi^j(x,\\hat{j}) = \\phi^j_0(x)\\).\n\nHere the scaling parameter \\(c\\) plays a similar role to the noise parameter in the discrete choice model from (Lentz and Moen, n.d.).\n\n\n2.2.2 Unemployed Worker\nUnemployed workers receive instant utility from living in location \\(j\\), \\(b(x,j)\\), and anticipate the probability of getting an offer \\(p^j\\) in each location. They will choose the strategy that maximizes their future expected value knowing that in each location they will receive an offer which can be from any firm with a likelihood proportional to the share of total vacancies posted by each firm in each market. The worker will accept only the offers that promise her a higher value than unemployment:\n\\[\\begin{align*}\nU^{j}(x) = \\underbrace{b(x,j)}_{\\text{instant utility}} + &\\beta\\max_{\\phi^j_u(x)}\\left\\{ \\underbrace{-c(\\phi^j_u(x))}_{\\text{cost of search strategy}} \\right.  + \\\\\n& \\sum_{j'\\in \\mathcal{J}} \\underbrace{\\phi^j_u(x, j')}_{\\text{weight by probability of search in} j'}\\left[ \\overbrace{(1-p^{j'})U^{j'}(x)}^{\\text{no offer, stays unemployed now in} j'} \\right.  \\\\\n& \\left. \\left. \\hspace{0cm} + p^{j'} \\underbrace{\\int \\max\\left\\{U^{j'}(x),W^{j\\to j'}_{0}(x,y)\\right\\}\\frac{v^{j'}(y)}{V^{j'}}dy}_{\\text{if offer, pays cost,moves to } j \\text{ and then is matched randomly with some firm}} \\right] \\right\\}\n\\end{align*}\\]\nI use the same bargaining as in (Cahuc, Postel-Vinay, and Robin 2006) and (Bagger and Lentz 2019). The Nash bargaining solution implies that the worker recieves a constant share \\(\\xi\\) of the match rent, where \\(\\xi\\) is the bargaining power of the worker:\n\\[W^{j \\to j'}_{0}(x,y) = U^{j}(x) + \\xi S^{j\\to j'}(x,y) =  (1 - \\xi) U^{j}(x) + \\xi [J^{j'}(x,y) - F^{j \\to j'}]\\]\nFrom \\(\\eqref{eq:optimal-search-strategy}\\) we know that the optimal strategy for each unemployed worker is:\n\\[\\begin{equation}\\label{eq-optimal-search-unemployed}\n\\phi_{u}^{j}(x,j')=\\frac{\\exp{\\left(\\left[p^{j'} \\xi \\int \\max\\left\\{0, S^{j\\to j'}(x,y) \\right\\}\\frac{v^{j'}(y)}{V^{j'}}dy \\right] / c\\right)}}{\\sum_{\\tilde{j}\\in \\mathcal{J}}\\exp{\\left(\\left[p^{\\tilde{j}} \\xi \\int \\max\\left\\{0, S^{j\\to \\tilde{j} }(x,y) \\right\\}\\frac{v^{ \\tilde{j} }(y)}{V^{\\tilde{j}}}dy \\right] / c\\right)}}\n\\end{equation}\\]\nSubstituting the optimal strategy in the Bellman equation we get:\n\\[\\begin{equation}\\label{eq-bellman-unemployed}\nU^{j}(x) = b(x,j) + \\beta\\left[\\left[U^j(x)\\right]  + c\\log\\left(\\frac{1}{\\mid \\mathcal{J} \\mid }{\\sum_{\\tilde{j}\\in \\mathcal{J}}\\exp{\\left(\\left[p^{j'} \\xi \\int \\max\\left\\{0, S^{j\\to j' }(x,y) \\right\\}\\frac{v^{ j' }(y)}{V^{j'}}dy \\right] / c\\right)}} \\right)\\right]  \n\\end{equation}\\]\n\n\n\n2.2.3 Joint Value of a Match\n\nIf a match between a worker and a firm in location \\(j\\) is destroyed the firm will get \\(0\\) and the worker gets their unemployment value in that location \\(U^{j}(x)\\).\nMatches are destroyed for two reasons:\n\nExogenous destruction with probability \\(\\delta\\)\nEndogenous destruction, if and only if \\(J^j(x,y) &lt; U^j(x)\\).\nDenote \\(\\lambda^j(x,y) = (1-\\delta)\\mathbb{1}_{\\{J^j(x,y)&gt;U^{j\\to j}(x,y)\\}}\\) the probability that a match survives accounting for both exogenous and endogenous destruction.\n\n\nWe can write the Bellman equation of a match value as:\n\\[\\begin{align*}\nJ^j(x,y) = \\underbrace{f(x,y,j)}_{\\text{match value added}} &+ \\beta\\left[  \\overbrace{ (1-\\lambda^j(x,y)) }^{\\text{match is destroyed}}\\underbrace{U^{j}(x)}_{\\text{worker gets unemployment value}} \\right. + \\\\\n  & \\underbrace{(\\lambda^j(x,y)}_{\\text{match survives}} \\max_{\\phi_s^j(x)}\\left\\{-c(\\phi_s^j(x)) +  \\sum_{j'\\in\\mathcal{J}}\\phi^j_s(x,j')\\left[ \\overbrace{(1-sp^{j'})}^{\\text{no new offers}} \\underbrace{J^j(x,y)}_{\\text{stays with same firm}} \\right. \\right. +\\\\\n& sp^{j'} \\left. \\underbrace{\\int\\max\\{J^{j}(x,y),W^{j\\to j'}_{1}(x,y',y)\\}\\frac{v^{j'}(x)}{V^{j'}}dy'}_{\\text{worker only accepts new offers if value is greater than current match}}  \\right]\n\\end{align*}\\]\nWhen a type \\(x\\) worker employed at a type \\(y\\) firm in location \\(j\\) meet potencial type \\(y'\\) poaching firm at location \\(j'\\) (assume that \\(y'&gt;y\\) is productive enough to poach the woker, I’ll show later what the poaching condition is), competition between the two employers over the worker’s services occurs as a second price auction. No employer will offer more that the entire match value \\(J^j(x,y)\\), thus this becomes the reservation value for the worker. Nash bargaining solution implies that the worker will obtain their outside option plus a share \\(\\xi\\) of the match surplus.\nBargaining implies that a worker employed in location \\(j\\) by firm \\(y\\) when matched with firm \\(y'\\) in location \\(j'\\) gets: \\[W^{j \\to j'}_{1}(x,y \\to y') = J^{j}(x,y) + \\xi [J^{j'}(x,y') - J^{j}(x,y) - F^{j' \\to j}]\\]\nNote that this means that to be able to poach from different locations the firm must be at least \\(F^{j\\to j'}\\) more productive. In terms of joint surplus we can rewrite \\[W^{j \\to j'}_{1}(x,y \\to y') = J^{j'}(x,y') + \\xi \\left[S^{j\\to j'}(x,y') - S^{j \\to j(x,y)}\\right]\\]\nFocussing on the maximization problem in the Bellman equation we can write:\n\\[\\begin{align*}\nJ^j(x,y) + \\max_{\\phi_s^j(x)} \\left\\{  \\sum_{j'\\in\\mathcal{J}}\\phi^j_s(x,j') \\left[ sp^j\\int\\max\\{0,  \\xi \\left[S^{j\\to j'}(x,y') - S^{j \\to j(x,y)}\\right] \\}\\frac{v^{j'}(x)}{V^{j'}}dy' \\right] \\right\\}\n\\end{align*}\\]\nFrom \\(\\eqref{eq:optimal-search-strategy}\\) we know that the optimal strategy for each employed worker is:\n\\[\\phi_{s}^{j}(x,y,j')=\\frac{\\exp{\\left(\\left[p^{j'} \\mu \\int \\max\\left\\{0, S^{j\\to j'}(x,y') - S^{j \\to j}(x,y) \\right\\}\\frac{v^{j'}(y')}{V^{j'}}dy' \\right] / c\\right)}}{\\sum_{\\tilde{j}\\in \\mathcal{J}}\\exp{\\left(\\left[p^{\\tilde{j}} \\mu \\int \\max\\left\\{0, S^{j\\to \\tilde{j} }(x,y')-S^{j \\to j}(x,y) \\right\\}\\frac{v^{ \\tilde{j} }(y')}{V^{\\tilde{j}}}dy' \\right] / c\\right)}}\\]\nPlug back into the value function:\n\\[\\begin{align*} \\label{eq-bellman-match}\nJ^j(x,y) = f(x,y,j) & + \\beta\\left [ \\left[  (1-\\lambda^j(x,y))U^{j}(x)   +\\lambda^j(x,y)J^j(x,y) \\right] \\right. \\\\ & \\left. +\\log\\left(\\frac{1}{\\mid \\mathcal{J} \\mid }\\sum_{j'\\in \\mathcal{J}}\\exp{\\left(\\left[p^{j'} \\mu \\int \\max\\left\\{0, S^{j\\to j' }(x,y')-S^{j \\to j}(x,y) \\right\\}\\frac{v^{ j' }(y')}{V^{j'}}dy' \\right] / c\\right)} \\right) \\right]\n\\end{align*}\\]\n\n\n2.2.4 Match Surplus\nNext I characterize the surplus function. First, define the instant surplus of a match between a type \\(x\\) worker in location \\(j\\) and a type \\(y\\) firm in location \\(j'\\) as: \\[s(x,y,j \\to j) = f(x,y,j,z) - b(x,j')\\]\nWe can compute the surpluss of mathces in the same location as:\n\\[\\begin{align}\\label{eq-surplus-same-location}\nS^{j \\to j}(x,y) &= J^j(x, y) - U^{j}(x) \\\\\n& = s(x,y,j \\to j) + \\beta \\lambda^j(x,y)\\underbrace{\\left[J^j(x,y) - U^j(x)\\right]}_{S^{j\\to j}(x,y)} + \\beta c \\left[ \\Lambda^j_1(x, y) - \\Lambda^j_0(x)\\right]\\\\\n& = s(x,y,j \\to j) + \\beta \\max\\{0, S^{j\\to j}(x,y)\\} + \\beta c \\left[ \\Lambda^j_1(x, y) - \\Lambda^j_0(x)\\right]\n\\end{align}\\]\nNotice that \\(\\lambda^{j}(x,y) &gt; 0\\) if and only if \\(S^{j\\to j}(x,y) &gt; 0\\), thus \\[\\max\\{0, S^{j\\to j}(x,y)\\} =\\lambda^{j}(x,y) S^{j\\to j}(x,y) \\]\nThe terms \\(\\Lambda_0(x)\\) and \\(\\Lambda_1(x,y)\\) come from the Bellmans of the worker and the match respectively and are defined as:\n\\[\\begin{align*}\n\\Lambda_1(x, y) &= \\log \\left(\\sum_{j'\\in \\mathcal{J}}\\exp{\\left(\\left[p^{j'} \\mu \\int \\max\\left\\{0, S^{j\\to j' }(x,y')-S^{j \\to j}(x,y) \\right\\}\\frac{v^{ j' }(y')}{V^{j'}}dy' \\right] / c\\right)} \\right)  \\\\\n\\Lambda_0(x) &= \\log \\left(\\sum_{j'\\in \\mathcal{J}}\\exp{\\left(\\left[p^{j'} \\mu \\int \\max\\left\\{0, S^{j\\to j' }(x,y') \\right\\}\\frac{v^{ j' }(y')}{V^{j'}}dy' \\right] / c\\right)}\\right) \\\\\n\\end{align*}\\]\nFinally we can use the expression in \\(\\eqref{eq-surplus-same-location}\\) to write the surplus of a match between a type \\(x\\) worker in location \\(j\\) and a type \\(y\\) firm in location \\(j'\\) as:\n\\[\\begin{align}\\label{eq-surplus}\nS^{j \\to j'}(x,y) &= J^{j'}(x, y) - \\left[U^{j}(x) + F^{j \\to j'}\\right] \\\\\n& = [J^{j'}(x, y) - U^{j'}(x)] + U^{j'}(x) - \\left[U^{j}(x) + F^{j \\to j'}\\right] \\\\\n& = S^{j'\\to j'}(x,y) - [U^{j}(x) - U^{j'}(x) + F^{j \\to j'}]\n\\end{align}\\]\nNotice that in computational terms,\nFrom the expressions in \\(\\eqref{eq-surplus-same-location}\\) and \\(\\eqref{eq-surplus}\\) the following is evident:\n\nA worker in location \\(j\\) can be hired from a firm in location \\(j'\\) by firm \\(y\\) if and only if the surplus of the match is positive: \\[S^{j\\to j'}(x,y) \\geq 0 \\qquad \\iff \\quad = J^{j'}(x,y) - U^{j\\to j'}(x) \\geq 0\\]\nA worker employed at location \\(j\\) by firm \\(y\\) can be poached by a firm \\(y'\\) in location \\(j'\\) if and only if the surplus of the match is higher than the surplus of staying at the same firm in the same location:\n\n\\[\\begin{align*}\nS^{j\\to j'}(x,y') &gt; S^{j\\to j}(x,y) &\\iff J^{j'}(x,y') - U^{j\\to j'}(x) &gt; J^{j}(x,y) - U^{j\\to j}(x) \\\\\n&\\iff J^{j'}(x,y') - [U^{j}(x) - F^{j\\to j'}] &gt; J^{j}(x,y) - U^{j}(x) \\\\\n&\\iff J^{j'}(x,y') &gt; J^{j}(x,y) +  F^{j\\to j'}\n\\end{align*}\\]\nThe surplus function determines how does the stock of unemployed and employed workers change:\n\\[\\begin{equation}\\label{eq-unemp-interim}\nu^{j}_{+}(x) = \\underbrace{u^j(x)}_{\\text{inherited from }t} + \\overbrace{\\int \\Big(\\underbrace{\\mathbb{1}_{S^{j \\to j}(x,y)&lt;0}}_{\\text{endogenous destruction}} + \\underbrace{\\delta\\mathbb{1}_{S^{j \\to j}(x,y)\\geq0}}_{\\text{exogenous destruction}}\\Big)h^j(x,y)dy}^{\\text{new unemployment created by shock}}\n\\end{equation}\\]\nand\n\\[\\begin{equation}\\label{eq-matches-interim}\nh_{+}^{j}(x,y) = (1-\\delta)\\mathbb{1}_{\\left\\{S^{j \\to j}(x,y)\\geq 0\\right\\}}h^j(x,y)\n\\end{equation}\\]\n\n\n2.2.5 Vacancy Creation\n\n\\(B^j(y)\\) is the expected value of a type \\(y\\) vacancy making contact with a worker in location \\(j\\). Vacancies meet unemployed and employed type-\\(x\\) workers at a rates \\[\\frac{u_{+}^j(x)}{L^j} \\qquad \\text{and} \\qquad s\\frac{h_{+}^j(x,y)}{L^j}\\] The expected value of posting a vacancy is therefore, the surplus that the posting firm expects to add, potential matches with negative surplus are immediately destroyed therefore those add no surplus. In terms of the Bellman equation we can write:\n\n\\[\\begin{align}\nB^j(y) &= \\underbrace{\\sum_{j'\\in \\mathcal{J}}\\left( \\int\\phi_u^{j'}(x,j)\\underbrace{\\frac{u_{+}^{j'}(x)}{L^{j'}}}_{\\text{likelihhod of match}}\\times\\overbrace{ \\max\\{0, S^{j'\\to j}(x,y)\\} }^{\\text{match survives}}dx\\right)}_{\\text{expected value added from hiring unemployed workers}} + \\nonumber \\\\\n& +\\underbrace{\\sum_{j'\\in \\mathcal{J}}\\left(\\int \\left(\\int\\underbrace{s\\phi_s^{j'}(x,j)\\frac{h_{+}^{j'}(x,y)}{L^{j'}}}_{\\text{likelihood of match}}\\times \\overbrace{ \\max\\{0, S^{j' \\to j}(x,y)-S^{j' \\to j'}(x,y')\\}}^{\\text{poaching is succesfull}}dx\\right)dy\\right)}_{\\text{expected value added from poaching other firms employees}}\n\\end{align}\\]\nFirms will post vacancies such that the marginal cost of the vacancies and the marginal expected benefit \\(B^j\\) are equal: \\[c_{j}'(v^{j}(y))=q^{j}B^{j}(y) \\tag{2.1}\\]"
  },
  {
    "objectID": "model.html#labor-market-flows",
    "href": "model.html#labor-market-flows",
    "title": "2  Model",
    "section": "2.3 Labor Market Flows",
    "text": "2.3 Labor Market Flows\nNow we characterize the flows of workers in-to and out-of unemployment at each location :\n\nLet \\[\\eta^{j' \\to j}(x,y) = \\mathbb{1}_{\\{S^{j' \\to j}(x,y)&gt;0\\}} \\qquad \\eta^{j' \\to j}(x,y'\\to y) = \\mathbb{1}_{\\{S^{j' \\to j}(x,y) &gt; S^{j' \\to j'}(x,y')\\}}\\]\n\n\nThen the law of motion of the unemployment and emplyment are:\n\\[\\begin{equation}\n\\label{eq-law-of-motion-unemp}\nu^{j}(x) = \\sum_{j'\\in \\mathcal{J}}\\underbrace{\\phi_u^{j'}(x,j) u_{+}^{j'}(x)\\left( 1 - \\int \\eta^{j'\\to j}(x,y) p^j\\frac{v^j(y)}{V^j}dy \\right)}_{\\text{mass of incoming unemployed workers that are not hired by any firm}}\n\\end{equation}\\]\nTo compute the mass of employed workers in the next period define:\n\nThe mass of workers hired from unemployment:\n\n\\[\\begin{equation}\nh^j_{u}(x,y) = \\sum_{j'\\in \\mathcal{J}}\\phi_u^{j'}(x,j) u_{+}^{j'}(x)\\eta^{j'\\to j}(x,y) p^j\\frac{v^j(y)}{V^j}\n\\end{equation}\\]\n\nThe mass of workers that are succesfully poached from other firms:\n\n\\[\\begin{equation}\nh^j_{p} = \\sum_{j'\\in \\mathcal{J}}\\left(\\overbrace{\\int\\underbrace{ h_{+}^{j'}(x,y')sp^j\\frac{v^{j}(y)}{V^{j}}\\eta^{j'\\to j}(x,y'\\to y)}_{\\text{mass of workers poached from } y' \\text{ firms in location } j'}dy'}^{\\text{mass of workers that } y \\text{ succesfully poach from location} j'} \\right)\n\\end{equation}\\]\n\nThe mass of workers that the firm is able to retain:\n\n\\[\\begin{equation}\nh^j_{r} = \\underbrace{h_{+}(x,y)  \\times }_{\\text{employed at interim }} \\overbrace{\\prod_{j'\\in\\mathcal{J}}\\left[ \\underbrace{1 - \\frac{s}{\\mid \\mathcal{J} \\mid}\\int\\left( p^{j'}\\frac{v^{j'}(y')}{V^{j'}} \\eta^{j\\to j'}(x,y\\to y')\\right)dy'}_{\\text{no poached by any firm in location }j'} \\right]}^{\\text{probability of not being poached}}\n\\end{equation}\\]\nFinally the mass of employed workers in the next period is:\n\\[\\begin{equation}\n\\label{eq-law-of-motion-emp}\nh^j(x,y) =  h^j_{u}(x,y) + h^j_{p}(x,y) + h^j_{r}(x,y)\n\\end{equation}\\]\nThen I can compute the distribution of skill in each location as: \\[\\ell^j(x) = u^j(x) + \\int h^j(x,y)dy\\] and the total population in each location as: \\[\\mu^j = \\int \\ell^j(x)dx\\]"
  },
  {
    "objectID": "model.html#footnotes",
    "href": "model.html#footnotes",
    "title": "2  Model",
    "section": "",
    "text": "In (Lise and Robin 2017), \\(b(x)\\) represents unemployment benefits. However, I adopt a more general approach to account for differences in the cost of living across locations.↩︎"
  },
  {
    "objectID": "endogenizing_location_productivity.html",
    "href": "endogenizing_location_productivity.html",
    "title": "3  Endogenizing Location Productivity and Cost of Living",
    "section": "",
    "text": "References"
  },
  {
    "objectID": "endogenizing_location_productivity.html#sec-agglomeration_effect",
    "href": "endogenizing_location_productivity.html#sec-agglomeration_effect",
    "title": "3  Endogenizing Location Productivity and Cost of Living",
    "section": "3.1 Location Productivity",
    "text": "3.1 Location Productivity\nI borrow from (Davis and Dingel 2019) in assuming that the productivity of workers in a location \\(j\\) is a result of idea exchange process within each location.\n\nAssume that a type \\(x\\) worker in location \\(j\\) has a \\(\\Omega(x, \\overline{X}^j)\\) where \\(\\overline{X}^j\\) is the value of idea exchange in location \\(j\\). Thus: \\[f(x,y,j,z_t) = f\\left(\\Omega(x, \\overline{X}^j), y, z_t\\right)\\]\nAssume that the value of idea exchange in location \\(j\\) is a function of the distribution of skills in location \\(j\\):\n\\[ \\overline{X}^j = \\overline{X}\\left(\\left\\{\\ell^j(x)\\right\\}\\right) \\]\n\nIt’s natural to make the following assumptions on \\(\\Omega(x, \\overline{X}^j)\\) and \\(\\overline{X}^j\\):\n\nAssumption 1: \\(\\Omega(x, \\overline{X}^j)\\) should be increasing in \\(x\\) and \\(\\overline{X}^j\\) and in the absence of idea exchange, worker productivity is just their type: \\(\\Omega(x, 0) = x\\).\nAssumption 2: Worker type \\(x\\) and idea exchange environment are complements i.e. \\(\\Omega(x, \\overline{X}^j)\\) supermodular in (\\(x\\) , \\(\\overline{X}^j\\)).\nAssumption 3: The value of idea exchange in location \\(j\\) is increasing in the number of potential exchange partners \\(\\mu^j\\) and on the distribution of skills in location \\(j\\) \\(\\ell^j(x)\\).\n\nWith the FOSD order of distributions.\n\n\nI will focus on the following functional forms for \\(\\Omega(x, \\overline{X}^j)\\) and \\(\\overline{X}^j\\):\n\\[\\Omega(x, \\overline{X}^j) = x(1 + A \\overline{X}^j x)\\] where \\(A\\) is a parameter that captures the scope of gains from idea exchange.\n\\[\n    \\overline{X}\\left(\\left\\{\\ell^j(x)\\right\\}\\right) = \\left(1 - e^{-\\nu \\int \\ell^j(x) dx}\\right)\\hat{x}^j =\\left(1 - e^{-\\nu \\mu^j} \\right)\\hat{x}^j\n\\]\nThe probability of encountering someone during each moment of time seeking is given by \\(1 - \\exp(-ν \\mu^j)\\), note that as the number of potential exchange partners (\\(\\mu^j\\)) increases, the probability of encountering someone also increases, which makes intuitive sense.\nThe average ability of the individuals you encounter in these exchanges is denoted as \\(\\hat{x}^j\\). This is a weighted average of the abilities of the people you meet \\[\\hat{x}^j = \\frac{1}{\\mu^j}\\int{x\\ell^j(x)dx}=\\frac{\\mathbb{E}^j[x]}{\\mu^j}\\] where \\(\\mathbb{E}^j[x]\\) is the average ability of workers in location \\(j\\).\nCost of living\n\nAs in (Davis and Dingel 2019) and (Behrens, Duranton, and Robert-Nicoud 2014) every individual in location \\(j\\) pays the congestion cost of \\(\\theta\\mu_j^{\\gamma}\\). Denote \\(b^j(x)\\) the home production of type \\(x\\) workers in location \\(j\\) then the instant utility of unemployed workers in location \\(j\\) is given by: \\[b(x,y) = b^j(x) - \\theta\\mu_j^{\\gamma}\\]"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Sorting between Workers and Firms (and Locations)",
    "section": "",
    "text": "Notes:\n\nI adopt the framework from (Lise and Robin 2017).\nIntroducing a fixed amount of locations and population distribution of workers should be an equilibrium outcome.\nWorkers can “partially” direct their search to each location.\n\nIn practice workers randomize over locations paying a cost.\nCost of random search is zero.\nCost increases unboundedly as the worker directs their search to a particular location.\n\nProductivity depends on the quality of match and aggregate state as in the original paper. I want to introduce a third component which is location productivity.\n\nI intend to use idea exchange as the driver of location productivity.\nI plan to draw on a framework similar to (Davis and Dingel 2019) to model the value added to production by idea exchange.\n\n\n\n\n\nReferences\n\n\nDavis, Donald R., and Jonathan I. Dingel. 2019. “A Spatial Knowledge Economy.” American Economic Review 109 (1): 153–70. https://doi.org/10.1257/aer.20130249.\n\n\nLise, Jeremy, and Jean-Marc Robin. 2017. “The Macrodynamics of Sorting Between Workers and Firms.” American Economic Review 107 (4): 1104–35. https://doi.org/10.1257/aer.20131118."
  }
]